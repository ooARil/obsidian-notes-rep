### Библиотека vs Framework

* Библиотека - это набор вспомогательных классов, методов, которые используются для того, чтобы дополнять приложение (Lombok, Collections)
* Framework - это каркас/структура приложения, они "навязывают"/описывают архитектуру вашего java приложения (Sptring, Hibernate (ORM framework для работы с БД))

----

### IOC/DI

![[Pasted image 20240125200246.png]]

Без Spring все это внедрение зависимостей просто реализуется через конструктор

Поэтому на помощь приходит Inversion of Control (IoC - инверсия управления )

---

### IOC

![[Pasted image 20240126212814.png]]

И когда говорится про принцип "инверсии управления" Spring-а имеется в виду внедрение зависимостей (DI)

---

### DI

![[Pasted image 20240126213008.png]]

Т.е. благодаря такой реализации инверсии управления, теперь не нужно самим заботиться о передачи объекта зависимости в целевой объект

![[Pasted image 20240126213124.png]]
![[Pasted image 20240126213134.png]]

Т.е. по факту теперь данный код может быть выглядеть следующим образом:
![[Pasted image 20240126213715.png]]
Пояснение: Т.е. теперь нам не нужно беспокоиться о создании все объектов самостоятельно, нам нужно только создать объект сервиса, а остальное на себя берет IoC.

---

### Как DI определяет и внедряет зависимости объекта?

![[Pasted image 20240126213852.png]]
Нюанс: Но в случае внедрения объекта через set методы, делает объект изменяемым.


---

### IoC Container и как он устроен

IoC Container - это объект, который занимается созданием других объектов и внедрением в них зависимостей (DI).
![[Pasted image 20240126214338.png]]

Данный контейнер представляет собой Map, где ключ это какой-то уникальный id, а значением объект.
Замечание: Данный объект называется bean.

IoC Container реализует несколько интерфейсов:
* *org.springframework.beans.factory.BeanFactory* - фабрика бинов, данный интерфейс предоставляет методы для получения бинов.
* *org.springframework.context.ApplicationContext* - интерфейс более низкого уровня, который предоставляет большее количество методов для работы с бинами. Данный интерфейс наследует BeanFactory.

---

### Bean

![[Pasted image 20240127004101.png]]

---

### Таким образом получаем следующий вид Spring приложения

![[Pasted image 20240127005037.png]]
Пояснение:
1. Есть IoC Container, на котором держится приложение
2. Чтобы создать Bean и положить его в IoC Container необходимо предоставить мета информацию об бине:
	![[Pasted image 20240127005046.png]]
	Пояснение:
	* Т.е. bean - это объект какого-то класса
	* bean definition - мета информация об создаваемом классе, т.е. его зависимости, его область видимости и т.д.
	Замечание: Т.е. bean - "деталь", а bean definition - "чертеж"
3. POJOs - обычные объект с набором свойств, конструкторов и get/set методов. Не содержит логики (т.е. DTO, Entity)

---

### Способы конфигурации/задания "метаинформации" бинов для занесения в IoC Container-а

![[Pasted image 20240127010112.png]]


---

### BeanDefinition в дэбаге

Вот можно увидеть, как выглядит "чертеж" бина, т.е. вся информация по бину, т.е. инструкция по которой он будет создан хранится в BeanDefinition
![[Pasted image 20240128160117.png]]