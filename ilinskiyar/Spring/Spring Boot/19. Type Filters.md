В тэге component-scan есть несколько настроек:
![[Pasted image 20240406193807.png]]
Пояснение:
- base-package - указываем скан пакета (так же мы можем указать несколько пакетов для сканирования через , ; /n /t)

- annotation-config - указываем нужно ли подгружать все основные bpp

- resource-pattern - т.к. на самом деле когда ищутся сканнером ClassPathBeanDefinitionScanner классы аннотированные @Component, на самом деле не используется для этого Reflection API, на самом деле ищутся просто классы в файловой системе проекта (classpath) - и как раз для поиска такие файлов используется паттерн (который по дефолту ищет любые классы c расширением .class)

- scoped-proxy - ? (не выкупил)

- name-generator - генератор имен для бинов (в данном случае используется генератор, который создает имя бинов по названию типа класса (но начиная с маленькой буквы)), но можно указать свой

- scope-resolver - в ней можно указать сервис реализующий ScopeMetadataResolver [[20. Scope]], который будет проверять аннотации, либо еще что-то, чтобы определить scope бина [[7. Bean Scopes (область видимость bean-а)]]

- use-default-filters (по умолчанию true) - т.е. использовать дефолтные фильтры для того, чтобы находить наши классы сканнером ClassPathBeanDefinitionScanner для создания bean definition
		![[Pasted image 20240406194624.png]]

---

### use-default-filters

Виды type filters:
![[Pasted image 20240407010818.png]]
Пояснение:
- annotation (как раз фильтр заданный по умолчанию use-default-filters = true) - данный фильтр сканирует аннотацию @Component (кроме того, можно указать свою аннотацию)
- assignable - т.е. фильтр в котором можно указать интерфейс или абстрактный класс, и если класс реализует или наследует его, то будет создан его бин.
- regex - т.е. фильтр который на основании регулярного выражения создает бин, если удовлетворяет условиям.
- aspectj - АОП.
- custom - создание собственного фильтра путем реализации интерфейса TypeFilter.

Замечание: На самом деле все эти фильтры реализуют (и должны реализовать) интерфейс TypeFilter.

---

### Настройка собственных фильтров

Чтобы указать собственный фильтр, просто ставим use-default-filter и в элемент добавляем фильтры:
![[Pasted image 20240407012107.png]]
Пояснение:
- В элементе component-scan мы можем как добавлять, так и убирать фильтры:
		![[Pasted image 20240407012125.png]]
	И также в этом фильтре мы можем указать тип фильтра:
	![[Pasted image 20240407012050.png]]
	Пояснение: Т.е. тут я могу указать annotation и в expression указать свою аннотацию.


Кроме того мы можем указывать сразу несколько фильтров:
![[Pasted image 20240407013600.png]]
Пояснение:
- *assignable* - Т.е. теперь будут создаваться bean defintion тех классов, которые реализуют интерфейс CrudRepository (что очень удобно, если вдруг мы забыли поставить аннотацию @Repository над таким классом):
		![[Pasted image 20240407012910.png]]
		![[Pasted image 20240407012917.png]]
- *regex* - И даже еще круче, я указал, что создавай bean definition тех классов, который находятся в пакете org. и оканчиваются на Repository.