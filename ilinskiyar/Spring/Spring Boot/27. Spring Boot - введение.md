Spring содержит большое количество модулей:
![[Pasted image 20240420161710.png]]

Каждый модуль требует свою конфигурацию, свой набор property и свой набор бинов.

Например: Spring Data Module
![[Pasted image 20240420161830.png]]
	Пояснение: Т.е. необходимо будет сконфигурировать бин JpaProperties (проперти для подсоединения к бд) и т.д.

Из-за того что, раньше приходилось копировать конфигурацию из старых проектов, то это было чревато большим количеством багов. Поэтому Spring предоставил автоконфигурацию:
![[Pasted image 20240420162130.png]]
Замечание: Все эти классы с готовой конфигурацией лежат в зависимости `org.springframework.boot:spring-boot-autoconfigure` (и эта зависимость тянется к транзитивная в каждое Spring Boot - приложение).

Но Spring Boot предоставляет не только подключение транзитивной завимости, т.к. иначе наш стартовый конфигурационный класс бы выглядел следующим образом:
![[Pasted image 20240420162613.png]]
	Пояснение: Т.е. мы бы сами указывали какие автоконфигурации мы хотим подключить, что неудобно, т.к. часть конфигураций хотелось бы подключать/отключать динамически (а не прописывать каждый раз)

Spring Boot предоставляет такой функционал, и для этого нам нужно использовать просто определенные условия:
![[Pasted image 20240420162822.png]]
	Пояснение:
		- *classpath* - т.е. если в у нас в нашем проекте лежит PostgreSQL driver, то это значит, что скорее всего я хочу работать с Jpa, а значит Spring Boot автоматически подключает JpaAutoConfiguration.
		- *properties* - т.е. если в application.properties и у меня есть `spring.jpa...` - то это значит, что я скорее всего хочу работать с Jpa, а значит Spring Boot автоматически подключает JpaAutoConfiguration.
		- *bean* - т.е. если я в контексте добавил бин какого-то определенного класса (например TransactionManager) - то это значит, что я скорее всего хочу работать с Jpa, а значит Spring Boot автоматически подключает JpaAutoConfiguration.
		- *SpEL* - аналогично, я там могу к любым бинам обращаться.
	Замечание: Такой механизм реализован через аннотацию @Conditional.

---

### Spring Boot Starters

Поэтому в Spring Boot ввели так называемые Spring Boot Starters.

Spring Boot Startes - это обычные зависимости (jars), которые добавляют нужный функционал в проекте и следуют определенному шаблону наименования: spring-boot-starter-*
	Например:
	![[Pasted image 20240420164223.png]]
	![[Pasted image 20240420163749.png]]
	И все они относятся к группе org.springframework.boot:
	![[Pasted image 20240420163849.png]]

Замечание: Но есть *third party startes* - они имеют свои группы и именования, например для работы с Apache Kafka, т.к. не является официальным:
	![[Pasted image 20240420164159.png]]


---

### Spring Boot Dependency Managment

Одна из частых проблем в разработке приложений - это несовместимость версий различных зависимостей.
Поэтому для её решения каждый Spring Boot release разрабатывается и тестируется с определенным набором *third party* зависимостей

Пояснение: Т.е. например если мы хотим подключить Lombok, либо Apache Kafka - все они уже протестированы с нужным набором версий. Поэтому все что необходимо сделать - это просто подключить зависимость:
	`org.springframework.boot:spring-boot-dependencies`
	![[Pasted image 20240420172006.png]]
	Пояснение: Т.е. это BOM (Bill of Materials - BOM позволяет централизованно управлять версиями зависимостей). Т.е. в нем для нашей версии spring-boot, которую мы подключили уже есть все зависимости в `<dependencyManagment>` с нужными ПРОТЕСТИРОВАННЫМИ версиями, которые мы можем спокойно подключить. И мы можем спокойно из его `<dependencyManagment>` подключить Lombok, Apache Kafka с версией, которая указана в этом `org.springframework.boot:spring-boot-dependencies`. 

---

### Что нужно для того, чтобы создать Spring Boot приложение?

![[Pasted image 20240420172824.png]]
Пояснение:
1. Установить Spring Boot версию (т.е. мы также укажем с помощью `spring-boot-dependencies` мы укажаем версии совместимые с spring-boot)

2. Подключаем spring-boot-starter-ы (которые нам нужны)

3. Добавляем property, которые нам нужны чтобы настроить наше приложение (необязательно - т.к. все spring-boot-starter-ы идут с набором property)
	Пояснение: Т.е. например в случае с Spring Data Jpa, если мы не укажем properties, но используем PostgreSQL драйвер, то значит автоматически spring-boot-starter будет автоматически отсылать запрос на localhost:5432  к базе данных с логином и паролем по умолчанию postgres/postgres).
	
4.  Также при необходимости мы можем добавить/заменить бины существующие в каждом spring-boot-starter-е (необязательно):
	![[Pasted image 20240420173720.png]]
	Пояснение: Т.е. из spring-boot-starter-data-jpa я заменил LocalContainerEntityManagerFactoryBean и PlatformTransactionManager на свои.

Таким образом Spring Boot приложение - это приложение, которое из коробки предоставляет нам уже готовый набор зависимостей, их версий и их конфигураций - которые мы сами можем спокойно переопределить.

Замечание: Spring Boot - приложение - это тоже самое Spring приложение, но которое предоставляет набор готовых зависимостей, которые упрощают разработку.