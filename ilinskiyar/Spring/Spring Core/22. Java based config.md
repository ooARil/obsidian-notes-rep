@Configuration - также создает бин, потому что помечена аннотацией @Component, чтобы сканнер её увидел.
![[Pasted image 20240414165519.png]]

Пояснение: из-за того, что он включает в себя аннотацию @Component мы можем объединить сразу 3 типа конфигурации ([[2. XML based config]] + [[11. Annotated based config]] + [[22. Java based config]])
Замечание: аналогично [[23. Import & ImportResource]]

---

### @PropertySource 

Теперь мы можем избавиться от тэга property-placeholder:
![[Pasted image 20240414175045.png]]
Для этого создадим класс с пометкой @Configuration и также добавим аннотацию @PropertyPlaceholder:
![[Pasted image 20240414175137.png]]
Это аннотация работает аналогично тэгу, и указывает файл, из которого мы можем брать настройки.

Замечание: Эта аннотация может быть проставлена несколько раз над одним типом, т.к. она является Repeatable:
![[Pasted image 20240414175306.png]]
	Но также можно использовать аннотацию @PropertySources (чтобы указать сразу несколько источников)

И можно убедиться, что все проперти были успешно считаны:
![[Pasted image 20240414175531.png]]

---

### @ComponentScan

@CopnonentScan - работает аналогично тэгу [[18. Bean Definition Readers]] - [[19. Type Filters]] component-scan.

Поэтому можем отказаться от этого тэга:
![[Pasted image 20240414180533.png]]
И использовать аннотацию:
![[Pasted image 20240414180517.png]]

---

### Полный уход от xml в сторону java-класса

Теперь вся конфигурация у нас описана в java-классе, и чтобы данный java-класс выступал в роли основного конфигурационного класса (как xml файл), используем:
- AnnotationConfigApplicationContext - это один из контейнеров приложения Spring (т.е. один из вариантов реализации интерфейса `ApplicationContext` в Spring, который позволяет создавать и настраивать компоненты приложения на основе Java-конфигурации и аннотаций. Этот класс используется для загрузки конфигурации Spring из Java-классов, аннотированных специальными аннотациями, такими как `@Configuration`, `@ComponentScan`, `@Bean` и другими.

![[Pasted image 20240414180751.png]]

И все работает:
![[Pasted image 20240414181127.png]]